var Qe=Object.defineProperty;var Xe=(e,t,s)=>t in e?Qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var he=(e,t,s)=>Xe(e,typeof t!="symbol"?t+"":t,s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const f of i.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(l){if(l.ep)return;l.ep=!0;const i=s(l);fetch(l.href,i)}})();function U(){}function Ve(e){return e()}function je(){return Object.create(null)}function Y(e){e.forEach(Ve)}function Ue(e){return typeof e=="function"}function ze(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function et(e){return Object.keys(e).length===0}function n(e,t){e.appendChild(t)}function tt(e,t,s){e.insertBefore(t,s||null)}function Ye(e){e.parentNode&&e.parentNode.removeChild(e)}function c(e){return document.createElement(e)}function u(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function d(e){return document.createTextNode(e)}function h(){return d(" ")}function ce(e,t,s,r){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)}function a(e,t,s){s==null?e.removeAttribute(t):e.getAttribute(t)!==s&&e.setAttribute(t,s)}function at(e){return e===""?null:+e}function nt(e){return Array.from(e.childNodes)}function ye(e,t){t=""+t,e.data!==t&&(e.data=t)}function We(e,t){e.value=t??""}function oe(e,t,s,r){s==null?e.style.removeProperty(t):e.style.setProperty(t,s,"")}let _e;function V(e){_e=e}const B=[],qe=[];let T=[];const Ke=[],st=Promise.resolve();let ge=!1;function lt(){ge||(ge=!0,st.then(Je))}function me(e){T.push(e)}const ve=new Set;let S=0;function Je(){if(S!==0)return;const e=_e;do{try{for(;S<B.length;){const t=B[S];S++,V(t),rt(t.$$)}}catch(t){throw B.length=0,S=0,t}for(V(null),B.length=0,S=0;qe.length;)qe.pop()();for(let t=0;t<T.length;t+=1){const s=T[t];ve.has(s)||(ve.add(s),s())}T.length=0}while(B.length);for(;Ke.length;)Ke.pop()();ge=!1,ve.clear(),V(e)}function rt(e){if(e.fragment!==null){e.update(),Y(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(me)}}function it(e){const t=[],s=[];T.forEach(r=>e.indexOf(r)===-1?t.push(r):s.push(r)),s.forEach(r=>r()),T=t}const ct=new Set;function ot(e,t){e&&e.i&&(ct.delete(e),e.i(t))}function ut(e,t,s){const{fragment:r,after_update:l}=e.$$;r&&r.m(t,s),me(()=>{const i=e.$$.on_mount.map(Ve).filter(Ue);e.$$.on_destroy?e.$$.on_destroy.push(...i):Y(i),e.$$.on_mount=[]}),l.forEach(me)}function dt(e,t){const s=e.$$;s.fragment!==null&&(it(s.after_update),Y(s.on_destroy),s.fragment&&s.fragment.d(t),s.on_destroy=s.fragment=null,s.ctx=[])}function ft(e,t){e.$$.dirty[0]===-1&&(B.push(e),lt(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function pt(e,t,s,r,l,i,f=null,m=[-1]){const b=_e;V(e);const o=e.$$={fragment:null,ctx:[],props:i,update:U,not_equal:l,bound:je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(b?b.$$.context:[])),callbacks:je(),dirty:m,skip_bound:!1,root:t.target||b.$$.root};f&&f(o.root);let v=!1;if(o.ctx=s?s(e,t.props||{},(p,_,...L)=>{const O=L.length?L[0]:_;return o.ctx&&l(o.ctx[p],o.ctx[p]=O)&&(!o.skip_bound&&o.bound[p]&&o.bound[p](O),v&&ft(e,p)),_}):[],o.update(),v=!0,Y(o.before_update),o.fragment=r?r(o.ctx):!1,t.target){if(t.hydrate){const p=nt(t.target);o.fragment&&o.fragment.l(p),p.forEach(Ye)}else o.fragment&&o.fragment.c();t.intro&&ot(e.$$.fragment),ut(e,t.target,t.anchor),Je()}V(b)}class ht{constructor(){he(this,"$$");he(this,"$$set")}$destroy(){dt(this,1),this.$destroy=U}$on(t,s){if(!Ue(s))return U;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(s),()=>{const l=r.indexOf(s);l!==-1&&r.splice(l,1)}}$set(t){this.$$set&&!et(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const yt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yt);function vt(e){let t,s,r,l,i,f,m,b,o,v,p,_,L,O,N,x,be,R,P,Le,Z,E,Ce,D,M,$e,Ae,I,C,F,we,g,xe,G,Pe,H,J=Math.abs(e[0])+"",ue,Ee,Me,$,Q,Ie,A,X,z=e[1].title+"",de,ke,ee,te=e[1].desc+"",fe,Se,y,ae,Be,j,ne,Te,Oe,W,se,Ne,Re,q,le,Ze,De,K,re,Fe,Ge,ie,pe,He;return{c(){t=c("main"),s=c("div"),r=c("div"),l=u("svg"),i=u("rect"),f=u("path"),m=u("text"),b=d("HISPANIA"),o=u("path"),v=u("text"),p=d("GALLIA"),_=u("path"),L=u("text"),O=d("ITALIA"),N=u("path"),x=u("text"),be=d("GRAECIA"),R=u("path"),P=u("text"),Le=d("ASIA"),Z=u("path"),E=u("text"),Ce=d("AFRICA"),D=u("path"),M=u("text"),$e=d("AEGYPTUS"),Ae=h(),I=c("div"),C=c("div"),F=c("button"),F.textContent="←",we=h(),g=c("input"),xe=h(),G=c("button"),G.textContent="→",Pe=h(),H=c("div"),ue=d(J),Ee=d(" BC"),Me=h(),$=c("div"),Q=c("div"),Q.innerHTML='<h1 class="svelte-yn2c58">CAESAR&#39;S CIVIL WAR</h1> <h3 class="svelte-yn2c58">Mapping the Republic&#39;s Fall</h3>',Ie=h(),A=c("div"),X=c("h2"),de=d(z),ke=h(),ee=c("p"),fe=d(te),Se=h(),y=c("div"),ae=c("h4"),ae.textContent="Key Factions",Be=h(),j=c("div"),ne=c("span"),Te=d(" Caesar"),Oe=h(),W=c("div"),se=c("span"),Ne=d(" Pompey / Senate"),Re=h(),q=c("div"),le=c("span"),Ze=d(" Egyptian Client"),De=h(),K=c("div"),re=c("span"),Fe=d(" Neutral / Contested"),Ge=h(),ie=c("div"),ie.innerHTML='<p class="svelte-yn2c58">Built for Prof. Westall | 2026</p>',a(i,"width","1000"),a(i,"height","600"),a(i,"fill","#7FAac0"),a(f,"d","M 50,350 L 180,330 L 220,400 L 150,480 L 80,450 Z"),a(f,"fill",e[3]("spain")),a(f,"class","province svelte-yn2c58"),a(m,"x","100"),a(m,"y","400"),a(m,"class","label svelte-yn2c58"),a(o,"d","M 180,330 L 220,180 L 380,160 L 400,280 L 320,320 L 220,400 Z"),a(o,"fill",e[3]("gaul")),a(o,"class","province svelte-yn2c58"),a(v,"x","280"),a(v,"y","240"),a(v,"class","label svelte-yn2c58"),a(_,"d","M 320,320 L 400,280 L 450,280 L 520,380 L 480,450 L 420,350 Z"),a(_,"fill",e[3]("italy")),a(_,"class","province svelte-yn2c58"),a(L,"x","440"),a(L,"y","340"),a(L,"class","label svelte-yn2c58"),a(N,"d","M 500,300 L 600,290 L 620,400 L 520,420 L 520,380 Z"),a(N,"fill",e[3]("greece")),a(N,"class","province svelte-yn2c58"),a(x,"x","540"),a(x,"y","350"),a(x,"class","label svelte-yn2c58"),a(R,"d","M 620,290 L 800,280 L 820,380 L 650,400 L 620,400 Z"),a(R,"fill",e[3]("asia")),a(R,"class","province svelte-yn2c58"),a(P,"x","700"),a(P,"y","340"),a(P,"class","label svelte-yn2c58"),a(Z,"d","M 200,500 L 550,480 L 550,600 L 200,600 Z"),a(Z,"fill",e[3]("africa")),a(Z,"class","province svelte-yn2c58"),a(E,"x","350"),a(E,"y","550"),a(E,"class","label svelte-yn2c58"),a(D,"d","M 600,450 L 800,450 L 800,600 L 600,600 Z"),a(D,"fill",e[3]("egypt")),a(D,"class","province svelte-yn2c58"),a(M,"x","680"),a(M,"y","520"),a(M,"class","label svelte-yn2c58"),a(l,"viewBox","0 0 1000 600"),a(l,"class","interactive-map svelte-yn2c58"),a(F,"class","svelte-yn2c58"),a(g,"type","range"),a(g,"min","-50"),a(g,"max","-44"),a(g,"step","1"),a(g,"class","svelte-yn2c58"),a(G,"class","svelte-yn2c58"),a(C,"class","timeline-controls svelte-yn2c58"),a(H,"class","year-display svelte-yn2c58"),a(I,"class","timeline-area svelte-yn2c58"),a(r,"class","map-container svelte-yn2c58"),a(Q,"class","header svelte-yn2c58"),a(X,"class","year-title svelte-yn2c58"),a(ee,"class","svelte-yn2c58"),a(ae,"class","svelte-yn2c58"),oe(ne,"background",e[2].caesar),a(ne,"class","svelte-yn2c58"),a(j,"class","legend-item svelte-yn2c58"),oe(se,"background",e[2].senate),a(se,"class","svelte-yn2c58"),a(W,"class","legend-item svelte-yn2c58"),oe(le,"background",e[2].client),a(le,"class","svelte-yn2c58"),a(q,"class","legend-item svelte-yn2c58"),oe(re,"background",e[2].neutral),a(re,"class","svelte-yn2c58"),a(K,"class","legend-item svelte-yn2c58"),a(y,"class","legend svelte-yn2c58"),a(A,"class","content svelte-yn2c58"),a(ie,"class","footer svelte-yn2c58"),a($,"class","info-panel svelte-yn2c58"),a(s,"class","layout svelte-yn2c58")},m(w,k){tt(w,t,k),n(t,s),n(s,r),n(r,l),n(l,i),n(l,f),n(l,m),n(m,b),n(l,o),n(l,v),n(v,p),n(l,_),n(l,L),n(L,O),n(l,N),n(l,x),n(x,be),n(l,R),n(l,P),n(P,Le),n(l,Z),n(l,E),n(E,Ce),n(l,D),n(l,M),n(M,$e),n(r,Ae),n(r,I),n(I,C),n(C,F),n(C,we),n(C,g),We(g,e[0]),n(C,xe),n(C,G),n(I,Pe),n(I,H),n(H,ue),n(H,Ee),n(s,Me),n(s,$),n($,Q),n($,Ie),n($,A),n(A,X),n(X,de),n(A,ke),n(A,ee),n(ee,fe),n(A,Se),n(A,y),n(y,ae),n(y,Be),n(y,j),n(j,ne),n(j,Te),n(y,Oe),n(y,W),n(W,se),n(W,Ne),n(y,Re),n(y,q),n(q,le),n(q,Ze),n(y,De),n(y,K),n(K,re),n(K,Fe),n($,Ge),n($,ie),pe||(He=[ce(F,"click",e[4]),ce(g,"change",e[5]),ce(g,"input",e[5]),ce(G,"click",e[6])],pe=!0)},p(w,[k]){k&1&&We(g,w[0]),k&1&&J!==(J=Math.abs(w[0])+"")&&ye(ue,J),k&2&&z!==(z=w[1].title+"")&&ye(de,z),k&2&&te!==(te=w[1].desc+"")&&ye(fe,te)},i:U,o:U,d(w){w&&Ye(t),pe=!1,Y(He)}}}function gt(e,t,s){let r,l=-50;const i=[{year:-50,title:"50 BC: The Standoff",desc:"Tensions rise. The Senate, led by Pompey, demands Caesar disband his legions in Gaul. Caesar refuses unless Pompey does the same. Rome is on the brink.",factions:{gaul:"caesar",italy:"senate",spain:"senate",greece:"senate",asia:"senate",africa:"senate",egypt:"neutral"}},{year:-49,title:"49 BC: Crossing the Rubicon",desc:"Caesar crosses the Rubicon (Jan). Pompey and the Senate flee Rome for Greece to gather an army. Caesar marches south, taking Italy, then pivots west to conquer Spain in a lightning campaign (Ilerda).",factions:{gaul:"caesar",italy:"caesar",spain:"caesar",greece:"senate",asia:"senate",africa:"senate",egypt:"neutral"}},{year:-48,title:"48 BC: Pharsalus",desc:"Caesar crosses the Adriatic. Despite a setback at Dyrrachium, he crushes Pompey at the Battle of Pharsalus. Pompey flees to Egypt and is murdered by King Ptolemy XIII.",factions:{gaul:"caesar",italy:"caesar",spain:"caesar",greece:"caesar",asia:"senate",africa:"senate",egypt:"contest"}},{year:-47,title:"47 BC: The East & Cleopatra",desc:"Caesar wins the Alexandrian War, installing Cleopatra as Queen. He marches through Asia Minor, defeating Pharnaces at Zela ('Veni, vidi, vici').",factions:{gaul:"caesar",italy:"caesar",spain:"caesar",greece:"caesar",asia:"caesar",africa:"senate",egypt:"client"}},{year:-46,title:"46 BC: Thapsus",desc:"Caesar invades Africa. He destroys the Optimates' army at Thapsus. Cato the Younger commits suicide. Caesar returns to Rome for a quadruple triumph.",factions:{gaul:"caesar",italy:"caesar",spain:"senate",greece:"caesar",asia:"caesar",africa:"caesar",egypt:"client"}},{year:-45,title:"45 BC: Munda & The End",desc:"The final battle. Caesar defeats the sons of Pompey at Munda in Spain. The Civil War is effectively over. Caesar is made Dictator Perpetuo.",factions:{gaul:"caesar",italy:"caesar",spain:"caesar",greece:"caesar",asia:"caesar",africa:"caesar",egypt:"client"}},{year:-44,title:"44 BC: The Ides of March",desc:"Caesar prepares for a campaign against Parthia, but is assassinated on March 15th by Brutus, Cassius, and others. Chaos returns.",factions:{gaul:"caesar",italy:"neutral",spain:"caesar",greece:"neutral",asia:"neutral",africa:"caesar",egypt:"client"}}],f={caesar:"#C8102E",senate:"#2D5054",neutral:"#d4d4bc",contest:"#E87EA1",client:"#98586c"};function m(p){const _=r.factions[p];return f[_]||"#d4d4bc"}const b=()=>s(0,l=Math.max(-50,l-1));function o(){l=at(this.value),s(0,l)}const v=()=>s(0,l=Math.min(-44,l+1));return e.$$.update=()=>{e.$$.dirty&1&&s(1,r=i.find(p=>p.year===l)||i[0])},[l,r,f,m,b,o,v]}class mt extends ht{constructor(t){super(),pt(this,t,gt,vt,ze,{})}}new mt({target:document.getElementById("app")});
