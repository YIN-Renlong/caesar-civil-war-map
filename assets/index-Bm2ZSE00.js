var Re=Object.defineProperty;var Ge=(e,t,n)=>t in e?Re(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ce=(e,t,n)=>Ge(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function V(){}function Be(e){return e()}function Se(){return Object.create(null)}function j(e){e.forEach(Be)}function Oe(e){return typeof e=="function"}function Ze(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function De(e){return Object.keys(e).length===0}function s(e,t){e.appendChild(t)}function Ve(e,t,n){e.insertBefore(t,n||null)}function Te(e){e.parentNode&&e.parentNode.removeChild(e)}function o(e){return document.createElement(e)}function u(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function f(e){return document.createTextNode(e)}function L(){return f(" ")}function Pe(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function je(e){return e===""?null:+e}function Fe(e){return Array.from(e.childNodes)}function X(e,t){t=""+t,e.data!==t&&(e.data=t)}function Ie(e,t){e.value=t??""}function w(e,t,n,l){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}let de;function D(e){de=e}const M=[],ke=[];let B=[];const Me=[],He=Promise.resolve();let oe=!1;function Ue(){oe||(oe=!0,He.then(Ne))}function ue(e){B.push(e)}const re=new Set;let k=0;function Ne(){if(k!==0)return;const e=de;do{try{for(;k<M.length;){const t=M[k];k++,D(t),We(t.$$)}}catch(t){throw M.length=0,k=0,t}for(D(null),M.length=0,k=0;ke.length;)ke.pop()();for(let t=0;t<B.length;t+=1){const n=B[t];re.has(n)||(re.add(n),n())}B.length=0}while(M.length);for(;Me.length;)Me.pop()();oe=!1,re.clear(),D(e)}function We(e){if(e.fragment!==null){e.update(),j(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ue)}}function Je(e){const t=[],n=[];B.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),B=t}const Ke=new Set;function Ye(e,t){e&&e.i&&(Ke.delete(e),e.i(t))}function ze(e,t,n){const{fragment:l,after_update:i}=e.$$;l&&l.m(t,n),ue(()=>{const r=e.$$.on_mount.map(Be).filter(Oe);e.$$.on_destroy?e.$$.on_destroy.push(...r):j(r),e.$$.on_mount=[]}),i.forEach(ue)}function Qe(e,t){const n=e.$$;n.fragment!==null&&(Je(n.after_update),j(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Xe(e,t){e.$$.dirty[0]===-1&&(M.push(e),Ue(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function et(e,t,n,l,i,r,d=null,v=[-1]){const b=de;D(e);const c=e.$$={fragment:null,ctx:[],props:r,update:V,not_equal:i,bound:Se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(b?b.$$.context:[])),callbacks:Se(),dirty:v,skip_bound:!1,root:t.target||b.$$.root};d&&d(c.root);let p=!1;if(c.ctx=n?n(e,t.props||{},(y,q,...m)=>{const O=m.length?m[0]:q;return c.ctx&&i(c.ctx[y],c.ctx[y]=O)&&(!c.skip_bound&&c.bound[y]&&c.bound[y](O),p&&Xe(e,y)),q}):[],c.update(),p=!0,j(c.before_update),c.fragment=l?l(c.ctx):!1,t.target){if(t.hydrate){const y=Fe(t.target);c.fragment&&c.fragment.l(y),y.forEach(Te)}else c.fragment&&c.fragment.c();t.intro&&Ye(e.$$.fragment),ze(e,t.target,t.anchor),Ne()}D(b)}class tt{constructor(){ce(this,"$$");ce(this,"$$set")}$destroy(){Qe(this,1),this.$destroy=V}$on(t,n){if(!Oe(n))return V;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(t){this.$$set&&!De(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const at="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(at);function st(e){let t,n,l,i,r,d,v,b,c,p,y,q,m,O,T,E,fe,N,S,pe,R,P,ye,G,I,he,ve,$,Z,F=Math.abs(e[0])+"",ee,ge,be,h,me,H,_e,C,U,Le,g,W,J=e[1].title+"",te,qe,ae,K=e[1].desc+"",se,$e,x,ne,Ce,xe,Y=e[1].factions.italia+"",ie,Ae,z,we,Q,le,Ee;return{c(){t=o("main"),n=o("div"),l=o("div"),i=u("svg"),r=u("rect"),d=u("path"),v=u("text"),b=f("HISPANIA"),c=u("path"),p=u("text"),y=f("GALLIA"),q=u("path"),m=u("text"),O=f("ITALIA"),T=u("path"),E=u("text"),fe=f("GRAECIA"),N=u("path"),S=u("text"),pe=f("ASIA"),R=u("path"),P=u("text"),ye=f("AFRICA"),G=u("path"),I=u("text"),he=f("AEGYPTUS"),ve=L(),$=o("div"),Z=o("div"),ee=f(F),ge=f(" BC"),be=L(),h=o("input"),me=L(),H=o("div"),H.innerHTML="<span>50</span><span>49</span><span>48</span><span>47</span><span>46</span><span>45</span><span>44</span>",_e=L(),C=o("div"),U=o("div"),U.innerHTML='<h1 class="svelte-1qicycb">CAESAR&#39;S CIVIL WAR</h1> <div class="subtitle">Data extracted from Wikipedia</div>',Le=L(),g=o("div"),W=o("h2"),te=f(J),qe=L(),ae=o("p"),se=f(K),$e=L(),x=o("div"),ne=o("strong"),ne.textContent="Debug Status:",Ce=o("br"),xe=f(`
          Italy Owner: `),ie=f(Y),Ae=L(),z=o("div"),z.innerHTML='<h3>Factions</h3> <div class="legend-item svelte-1qicycb"><span style="background:#ef4444" class="svelte-1qicycb"></span> Caesar (Red)</div> <div class="legend-item svelte-1qicycb"><span style="background:#1e3a8a" class="svelte-1qicycb"></span> Senate/Pompey (Blue)</div> <div class="legend-item svelte-1qicycb"><span style="background:#701a75" class="svelte-1qicycb"></span> Client (Purple)</div> <div class="legend-item svelte-1qicycb"><span style="background:#f59e0b" class="svelte-1qicycb"></span> Contested (Orange)</div> <div class="legend-item svelte-1qicycb"><span style="background:#d4d4d8" class="svelte-1qicycb"></span> Neutral (Grey)</div>',we=L(),Q=o("div"),Q.textContent="Interactive Map Prototype",a(r,"width","1000"),a(r,"height","600"),a(r,"fill","#93c5fd"),a(d,"d","M 50,350 L 180,330 L 220,400 L 150,480 L 80,450 Z"),w(d,"fill",e[2]("hispania")),a(d,"class","province svelte-1qicycb"),a(v,"x","110"),a(v,"y","410"),a(v,"class","label svelte-1qicycb"),a(c,"d","M 180,330 L 220,180 L 380,160 L 400,280 L 320,320 L 220,400 Z"),w(c,"fill",e[2]("gallia")),a(c,"class","province svelte-1qicycb"),a(p,"x","280"),a(p,"y","260"),a(p,"class","label svelte-1qicycb"),a(q,"d","M 320,320 L 400,280 L 450,280 L 520,380 L 480,450 L 420,350 Z"),w(q,"fill",e[2]("italia")),a(q,"class","province svelte-1qicycb"),a(m,"x","440"),a(m,"y","340"),a(m,"class","label svelte-1qicycb"),a(T,"d","M 500,300 L 600,290 L 630,400 L 520,430 L 520,380 Z"),w(T,"fill",e[2]("graecia")),a(T,"class","province svelte-1qicycb"),a(E,"x","560"),a(E,"y","360"),a(E,"class","label svelte-1qicycb"),a(N,"d","M 630,290 L 850,280 L 870,400 L 660,420 L 630,400 Z"),w(N,"fill",e[2]("asia")),a(N,"class","province svelte-1qicycb"),a(S,"x","750"),a(S,"y","350"),a(S,"class","label svelte-1qicycb"),a(R,"d","M 180,500 L 550,480 L 550,600 L 180,600 Z"),w(R,"fill",e[2]("africa")),a(R,"class","province svelte-1qicycb"),a(P,"x","350"),a(P,"y","550"),a(P,"class","label svelte-1qicycb"),a(G,"d","M 600,450 L 870,450 L 870,600 L 600,600 Z"),w(G,"fill",e[2]("aegyptus")),a(G,"class","province svelte-1qicycb"),a(I,"x","730"),a(I,"y","520"),a(I,"class","label svelte-1qicycb"),a(i,"viewBox","0 0 1000 600"),a(i,"class","interactive-map svelte-1qicycb"),a(Z,"class","year-display svelte-1qicycb"),a(h,"type","range"),a(h,"min","-50"),a(h,"max","-44"),a(h,"step","1"),a(h,"class","svelte-1qicycb"),a(H,"class","ticks svelte-1qicycb"),a($,"class","timeline-area svelte-1qicycb"),a(l,"class","map-container svelte-1qicycb"),a(U,"class","header svelte-1qicycb"),a(W,"class","year-title svelte-1qicycb"),a(x,"class","debug-box svelte-1qicycb"),a(z,"class","legend svelte-1qicycb"),a(g,"class","content svelte-1qicycb"),a(Q,"class","footer"),a(C,"class","info-panel svelte-1qicycb"),a(n,"class","layout svelte-1qicycb")},m(_,A){Ve(_,t,A),s(t,n),s(n,l),s(l,i),s(i,r),s(i,d),s(i,v),s(v,b),s(i,c),s(i,p),s(p,y),s(i,q),s(i,m),s(m,O),s(i,T),s(i,E),s(E,fe),s(i,N),s(i,S),s(S,pe),s(i,R),s(i,P),s(P,ye),s(i,G),s(i,I),s(I,he),s(l,ve),s(l,$),s($,Z),s(Z,ee),s(Z,ge),s($,be),s($,h),Ie(h,e[0]),s($,me),s($,H),s(n,_e),s(n,C),s(C,U),s(C,Le),s(C,g),s(g,W),s(W,te),s(g,qe),s(g,ae),s(ae,se),s(g,$e),s(g,x),s(x,ne),s(x,Ce),s(x,xe),s(x,ie),s(g,Ae),s(g,z),s(C,we),s(C,Q),le||(Ee=[Pe(h,"change",e[3]),Pe(h,"input",e[3])],le=!0)},p(_,[A]){A&1&&F!==(F=Math.abs(_[0])+"")&&X(ee,F),A&1&&Ie(h,_[0]),A&2&&J!==(J=_[1].title+"")&&X(te,J),A&2&&K!==(K=_[1].desc+"")&&X(se,K),A&2&&Y!==(Y=_[1].factions.italia+"")&&X(ie,Y)},i:V,o:V,d(_){_&&Te(t),le=!1,j(Ee)}}}function nt(e,t,n){let l,i=-50;const r=[{year:-50,title:"50 BC: The Standoff",desc:"Caesar is in Gaul. The Senate (Pompey) controls Italy, Spain, and the East. Egypt is neutral.",factions:{gallia:"caesar",hispania:"senate",italia:"senate",graecia:"senate",asia:"senate",africa:"senate",aegyptus:"neutral"}},{year:-49,title:"49 BC: Crossing the Rubicon",desc:"Caesar invades Italy (Jan) and Spain (Aug). Pompey flees to Greece.",factions:{gallia:"caesar",hispania:"caesar",italia:"caesar",graecia:"senate",asia:"senate",africa:"senate",aegyptus:"neutral"}},{year:-48,title:"48 BC: Pharsalus",desc:"Caesar defeats Pompey in Greece. Pompey is killed in Egypt.",factions:{gallia:"caesar",hispania:"caesar",italia:"caesar",graecia:"caesar",asia:"senate",africa:"senate",aegyptus:"contest"}},{year:-47,title:"47 BC: Veni Vidi Vici",desc:"Caesar secures the East and Egypt. The Senate regroups in Africa.",factions:{gallia:"caesar",hispania:"caesar",italia:"caesar",graecia:"caesar",asia:"caesar",africa:"senate",aegyptus:"client"}},{year:-46,title:"46 BC: Thapsus",desc:"Caesar conquers Africa. Pompeian resistance crumbles.",factions:{gallia:"caesar",hispania:"senate",italia:"caesar",graecia:"caesar",asia:"caesar",africa:"caesar",aegyptus:"client"}},{year:-45,title:"45 BC: Munda",desc:"The final battle in Spain. Caesar becomes sole Dictator.",factions:{gallia:"caesar",hispania:"caesar",italia:"caesar",graecia:"caesar",asia:"caesar",africa:"caesar",aegyptus:"client"}},{year:-44,title:"44 BC: Assassination",desc:"Caesar is killed. The Republic falls into chaos.",factions:{gallia:"caesar",hispania:"caesar",italia:"neutral",graecia:"neutral",asia:"neutral",africa:"caesar",aegyptus:"client"}}],d={caesar:"#ef4444",senate:"#1e3a8a",neutral:"#d4d4d8",contest:"#f59e0b",client:"#701a75"};function v(c){const p=l.factions[c];return d[p]||"#cccccc"}function b(){i=je(this.value),n(0,i)}return e.$$.update=()=>{e.$$.dirty&1&&n(1,l=r.filter(c=>c.year<=i).pop()||r[0])},[i,l,v,b]}class it extends tt{constructor(t){super(),et(this,t,nt,st,Ze,{})}}new it({target:document.getElementById("app")});
